---
---

<section id="contact" class="py-20 bg-transparent relative">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold mb-16 reveal">Contacto</h2>
    
    <div class="grid md:grid-cols-2 gap-12">
      <div class="reveal">
        <h3 class="text-2xl font-bold mb-4 bg-gradient-to-r from-primary-cyan to-primary-blue text-transparent bg-clip-text">
          ¿Tienes un proyecto en mente?
        </h3>
        <p class="text-gray-400 mb-6">
          Estoy siempre interesado en nuevos proyectos y colaboraciones.
          No dudes en contactarme para discutir tus ideas.
        </p>
        <div class="flex flex-col gap-4">
          <div id="email-container">
            <a href="#" id="email-link" title="Enviar un correo electrónico" class="flex items-center gap-4 text-gray-400 hover:text-primary-cyan transition-colors group">
              <div class="p-3 bg-white/5 rounded-lg group-hover:bg-primary-cyan/10 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <span id="email-text">Enviar un Email</span>
            </a>
          </div>

          <div id="phone-container">
            <a href="#" id="phone-link" title="Contactar por WhatsApp o Llamada" class="flex items-center gap-4 text-gray-400 hover:text-primary-blue transition-colors group">
              <div class="p-3 bg-white/5 rounded-lg group-hover:bg-primary-blue/10 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </div>
              <span id="phone-text">WhatsApp / Llamada</span>
            </a>
          </div>
          <a href="https://linkedin.com/in/oswaldo-bello" target="_blank" class="flex items-center gap-4 text-gray-400 hover:text-white transition-colors group">
            <div class="p-3 bg-white/5 rounded-lg group-hover:bg-white/10 transition-colors">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
              </svg>
            </div>
            LinkedIn
          </a>
        </div>
      </div>
      
      <form id="contact-form" class="reveal p-8 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl">
        <div class="mb-6">
          <label for="user_name" class="block text-sm font-medium text-gray-400 mb-2">Nombre</label>
          <input
            type="text"
            id="user_name"
            name="user_name"
            required
            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-cyan text-white transition-all"
          />
        </div>
        <div class="mb-6">
          <label for="user_email" class="block text-sm font-medium text-gray-400 mb-2">Email</label>
          <input
            type="email"
            id="user_email"
            name="user_email"
            required
            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-cyan text-white transition-all"
          />
        </div>
        <div class="mb-6">
          <label for="message" class="block text-sm font-medium text-gray-400 mb-2">Mensaje</label>
          <textarea
            id="message"
            name="message"
            rows="4"
            required
            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-cyan text-white transition-all"
          ></textarea>
        </div>
        <button
          type="submit"
          id="submit-btn"
          class="w-full px-8 py-4 bg-gradient-to-r from-primary-cyan to-primary-blue rounded-lg text-white font-bold hover:shadow-[0_0_20px_rgba(0,255,229,0.4)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Enviar Mensaje
        </button>
        <p id="form-status" class="mt-4 text-center text-sm hidden"></p>
      </form>
    </div>
  </div>
</section>

<script>
  import emailjs from '@emailjs/browser';

  // --- Lógica de Ofuscación ---
  const e = "YmVsbG9zYWxjZWRvb3N3YWxkb0BnbWFpbC5jb20=";
  const p = "KzU4IDQxNC0xODg5MTUw";

  function decode() {
    const email = atob(e);
    const phone = atob(p);
    const emailLink = document.getElementById('email-link') as HTMLAnchorElement;
    const phoneLink = document.getElementById('phone-link') as HTMLAnchorElement;

    if (emailLink) {
      emailLink.href = `mailto:${email}`;
    }
    if (phoneLink) {
      phoneLink.href = `tel:${phone.replace(/\s|-/g, '')}`;
    }
  }

  // --- Lógica de EmailJS ---
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const statusEl = document.getElementById('form-status');
  const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;

  if (form) {
    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      
      if (!submitBtn || !statusEl) return;

      submitBtn.disabled = true;
      submitBtn.textContent = 'Enviando...';
      statusEl.classList.remove('hidden', 'text-green-400', 'text-red-400');
      statusEl.className = 'mt-4 text-center text-sm text-gray-400';
      statusEl.textContent = 'Procesando...';

      try {
        const SERVICE_ID = import.meta.env.PUBLIC_EMAILJS_SERVICE_ID;
        const TEMPLATE_ID = import.meta.env.PUBLIC_EMAILJS_TEMPLATE_ID;
        const PUBLIC_KEY = import.meta.env.PUBLIC_EMAILJS_PUBLIC_KEY;

        if (!SERVICE_ID || !TEMPLATE_ID || !PUBLIC_KEY) {
          throw new Error('Faltan las claves de configuración de EmailJS');
        }

        await emailjs.sendForm(SERVICE_ID, TEMPLATE_ID, form, PUBLIC_KEY);

        statusEl.textContent = '¡Mensaje enviado con éxito! Me pondré en contacto pronto.';
        statusEl.classList.add('text-green-400');
        form.reset();
      } catch (error) {
        console.error('EmailJS Error:', error);
        statusEl.textContent = 'Hubo un error al enviar el mensaje. Por favor, intenta de nuevo.';
        statusEl.classList.add('text-red-400');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Enviar Mensaje';
      }
    });
  }

  // Inicializar
  document.addEventListener('DOMContentLoaded', decode);
</script>